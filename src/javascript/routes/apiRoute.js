////////////////////////////////////////////////////////////////////////////////////
// Imports
////////////////////////////////////////////////////////////////////////////////////

var express = require('express');

var activityRoute = require('./activityRoute');
var authRoute = require('./authRoute');
var userRoute = require('./userRoute');
var pemClientRoute = require('./pemClientRoute');
var agencyRoute = require('./agencyRoute');


////////////////////////////////////////////////////////////////////////////////////
// Routes
////////////////////////////////////////////////////////////////////////////////////

var router = express.Router({mergeParams: true});

router.use('/users', userRoute);
router.use('/activities', activityRoute);
router.use('/auth', authRoute);
router.use('/agencies', agencyRoute);
router.use('/pem', pemClientRoute);

// catch 404 and forward to error handler
router.use((req, res, next) => {
	var err = new Error('API - Not Found');
	err.status = 404;
	next(err);
});


////////////////////////////////////////////////////////////////////////////////////
// Exports
////////////////////////////////////////////////////////////////////////////////////

module.exports = router;
