////////////////////////////////////////////////////////////////////////////////////
// Imports
////////////////////////////////////////////////////////////////////////////////////

var fs = require('fs');
var util = require('util');
var qs = require('querystring');

var express = require('express');
var passport = require('passport');
var moment = require('moment');

var security = require('../lib/security');

var logger = require('../log/logger');

var tripService = require('../service/tripService');


////////////////////////////////////////////////////////////////////////////////////
// Routes
////////////////////////////////////////////////////////////////////////////////////

var router = express.Router({mergeParams: true});


router.get('/trips', /*security.ensureJWTAuthenticated,*/ (req, res) => {
	var agencyKey = req.params.agencyKey;

	tripService.putStopTimesByTripIdInCache(agencyKey).then((trips) => {
		logger.info(`Trip Ids: ${JSON.stringify(trips)}`);
	})
});


////////////////////////////////////////////////////////////////////////////////////
// Exports
////////////////////////////////////////////////////////////////////////////////////

module.exports = router;
