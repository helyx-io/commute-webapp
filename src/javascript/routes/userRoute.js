////////////////////////////////////////////////////////////////////////////////////
// Imports
////////////////////////////////////////////////////////////////////////////////////

var express = require('express');

var logger = require('../lib/logger');
var security = require('../lib/security');

var config = require('../conf/config');


////////////////////////////////////////////////////////////////////////////////////
// Routes
////////////////////////////////////////////////////////////////////////////////////

var router = express.Router({mergeParams: true});

router.get('/me', security.ensureAuthenticated, (req, res) => {

	res.json(req.user);

});

// catch 404 and forward to error handler
router.use((req, res, next) => {
	var err = new Error('USER - Not Found');
	err.status = 404;
	next(err);
});


////////////////////////////////////////////////////////////////////////////////////
// Exports
////////////////////////////////////////////////////////////////////////////////////

module.exports = router;
