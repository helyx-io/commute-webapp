////////////////////////////////////////////////////////////////////////////////////
// Imports
////////////////////////////////////////////////////////////////////////////////////

var _ = require('lodash');
var Promise = require("bluebird");

var logger = require('./logger');

var config = require('../conf/config');

var redis = require('promise-redis')(function(resolver) {
	return new Promise(resolver);
});


////////////////////////////////////////////////////////////////////////////////////
// Functions
////////////////////////////////////////////////////////////////////////////////////

var createClient = (name) => {

	logger.info(`[${name}][REDIS][CREATE] create standard client`);
	var redisClient = redis.createClient(config.redis.port, config.redis.host, { enable_offline_queue: false });

	redisClient.on('error', function(err) {
		return logger.error(`[${name}][REDIS][ERROR] message: ${err.message} - Stacktrace: ${err.stack}`);
	});

	return redisClient;
};


////////////////////////////////////////////////////////////////////////////////////
// Exports
////////////////////////////////////////////////////////////////////////////////////

module.exports = {
	createClient: createClient
};